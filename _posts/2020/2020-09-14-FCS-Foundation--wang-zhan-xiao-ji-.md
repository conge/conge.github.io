---
layout: post
title: "FCS-Foundation-网站小记"
date:
categories: FCS
excerpt:
auth: conge
---
* content
{:toc}

![Livingwithfcs.org](/assets/images/FCS/118382-cbf3248f3075acec.png)

我们的网站，一开始是Global Genes帮忙制作并且托管的。这样就运行了两年多。

2019年四月，Foundation来了位志愿者，本职工作和爱好，都是做网站。他手头也有服务器资源，于是提出帮助我们来维护网站。他花了些功夫，把我们的网站改版并转移到了他的服务器上。

本来一切都挺美好的。

结果，我们的主席，疫情之间没啥事儿，想要给网站折腾个新版，于是就自己上Wix.com上直接开练，按照自己想要的样子，做了这么一个。作出的效果，怎么说呢，整个页面都是粉粉的感觉。

拿来，给我看，让我给意见。想让我把域名直接指向她做的网站。那样的话，还得开通Wix的付费服务。

我心里就觉得不愿意。1）我们的主要活动都在社交媒体上。网站在那里只是展示一些静态信息，没必要总去折腾它。2）而且，如果真的改版的话，应该联系那位志愿者，去征求他的意见。毕竟，如果要不用他的服务了，要跟人家提前打招呼，对对方表示感谢，之后再协同完成这件事儿。3）其实最好的，可以让志愿者试试，是否愿意按照主席的意愿，去该一下主页的设计与排版，就好了。

于是，我建议大家约个时间聊一聊，看看该改成啥样子，谁来改什么的。

然后，主席发了封邮件，把她的设计直接发给大家，然后约开会。

结果，不知道为什么，志愿者直接就炸了，好像我们做错了什么事儿似的，直接给我们下了逐客令，让我们一个月之内把网站迁走，并且，直接退出了我们的病友群。到今天，我也是一头雾水，不知道到底发生了什么。

从2019年四月到2020年四月，我们的网站在志愿者手里一年之后，又给退回了我们自己手里。

-------

这件事发生之后，我快速学了一下建站的知识，把网站从志愿者的服务器，迁移到了Google Cloud Platform （GCP）。因为平时网站流量也不大，网站本身也不大，于是就用了GCP的免费服务，一个Linux VM上挂一个10GB的硬盘，托管一个Wordpress网站，跑我们的网站。

虽然速度不是很快，但在北美访问起来，还算过得去。

直到六月十五日，我收到邮件，说网站挂了。

我当时入职新工作，心思不再上面，就一直拖到了周末，才去检查。

上GCP，各项服务正常，没有任何错误日志。网站可以Ping通，没有任何丢包。可以通过SSh连上网站，查看各项服务也都没有问题。

就是，当我在浏览器键入网址后，一直都没有反应，等半天，返回错误，说连接被中断。用IP直连，同样的问题。这就排除了是域名解析的问题。

用了Down.com去测试，返回结果说网站在线。

真是活见鬼。

也不知怎么排查，就一顿Google查询，都不像我遇到的问题。

最后，忽然在一篇文章里，提到，要查看磁盘是否已经满了，我上去一看，果然，磁盘占用100%，怪不得。

删除一些无用文件之后，再次尝试连接网站，成功！

-------

后来排查为什么硬盘忽然满了。

于是想起，自己在把网站转移过来之后，更改过一次设置，把硬盘的一部分分出去做了交换区swap，以应对免费云主机只有不到1GB内存的尴尬。一排插，我分了4GB做swap文件，只剩下5GB给系统和网站，怪不得。

也怪我当初改设置的时候，没有注意免费主机的硬盘瓶颈。

于是，一番操作，把Swap文件从4GB降到1GB，这样，网站还能坚持一段时间吧，我想。

```
2020-06-23 初稿
```
